<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="ui.AIAssistantController"
      styleClass="ai-assistant-container"
      prefWidth="900.0" prefHeight="700.0"
      spacing="0">

    <!-- Header -->
    <HBox styleClass="ai-assistant-header" spacing="12" alignment="CENTER_LEFT">
        <padding>
            <Insets top="16" right="20" bottom="16" left="20"/>
        </padding>
        <children>
            <Label text="ðŸ¤–" style="-fx-font-size: 24px;"/>
            <Label text="AI Î’Î¿Î·Î¸ÏŒÏ‚ Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î¿Ï" styleClass="ai-assistant-title" style="-fx-font-size: 18px; -fx-font-weight: bold;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="âš™ï¸ Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚" onAction="#onSettingsClicked" styleClass="settings-button" prefWidth="120" prefHeight="35"/>
            <Button text="âœ•" onAction="#onCloseClicked" styleClass="close-button" prefWidth="40" prefHeight="35"/>
        </children>
    </HBox>

    <!-- Chat Messages Area -->
    <ScrollPane fx:id="chatScrollPane" 
                styleClass="chat-scroll-pane"
                VBox.vgrow="ALWAYS"
                fitToWidth="true"
                hbarPolicy="NEVER"
                vbarPolicy="AS_NEEDED">
        <content>
            <VBox fx:id="chatMessagesContainer" 
                  styleClass="chat-messages-container"
                  spacing="12">
                <padding>
                    <Insets top="20" right="20" bottom="20" left="20"/>
                </padding>
            </VBox>
        </content>
    </ScrollPane>

    <!-- Configuration Alert (shown when API key not set) -->
    <VBox fx:id="configAlertContainer" 
          styleClass="config-alert-container"
          spacing="12"
          alignment="CENTER"
          visible="false"
          managed="false">
        <padding>
            <Insets top="20" right="40" bottom="20" left="40"/>
        </padding>
        <children>
            <Label text="âš ï¸" style="-fx-font-size: 36px;"/>
            <Label text="Î¤Î¿ AI Î’Î¿Î·Î¸ÏŒÏ‚ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ API Key (Î ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ)" styleClass="config-alert-title" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
            <Label text="Î“Î¹Î± Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿Î½ AI Î’Î¿Î·Î¸ÏŒ, Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÏÏ…Î¸Î¼Î¯ÏƒÎµÏ„Îµ Î­Î½Î± API Key Î±Ï€ÏŒ Î­Î½Î±Î½ Ï€Î¬ÏÎ¿Ï‡Î¿ AI (Ï€.Ï‡. OpenAI).&#10;&#10;Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·: Î¤Î¿ OpenAI Ï€ÏÎ¿ÏƒÏ†Î­ÏÎµÎ¹ Î´Ï‰ÏÎµÎ¬Î½ Ï€Î¯ÏƒÏ„Ï‰ÏƒÎ· ($5-18) Î³Î¹Î± Î½Î­Î¿Ï…Ï‚ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿ÏÏ‚, Î±ÏÎºÎµÏ„Î® Î³Î¹Î± demos ÎºÎ±Î¹ universitary projects.&#10;&#10;ÎœÏ€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎºÎ»ÎµÎ¯ÏƒÎµÏ„Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ Ï€Î±ÏÎ¬Î¸Ï…ÏÎ¿ Î±Î½ Î´ÎµÎ½ Î¸Î­Î»ÎµÏ„Îµ Î½Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Ï„Î¿ AI Î’Î¿Î·Î¸ÏŒ - Î· ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³ÎµÎ¯ Ï€Î»Î®ÏÏ‰Ï‚ Ï‡Ï‰ÏÎ¯Ï‚ Î±Ï…Ï„ÏŒ." 
                   styleClass="config-alert-text"
                   wrapText="true"
                   textAlignment="CENTER"/>
            <TextField fx:id="apiKeyField" 
                      promptText="Î•Î¹ÏƒÎ¬Î³ÎµÏ„Îµ Ï„Î¿ API Key ÏƒÎ±Ï‚..."
                      prefWidth="400"
                      prefHeight="40"
                      styleClass="api-key-field"/>
            <HBox spacing="12" alignment="CENTER">
                <Button text="ðŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·" onAction="#onSaveApiKey" styleClass="save-api-key-button" prefWidth="140" prefHeight="40"/>
                <Button text="â„¹ï¸ Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚" onAction="#onInfoClicked" styleClass="info-button" prefWidth="140" prefHeight="40"/>
            </HBox>
        </children>
    </VBox>

    <!-- Input Area -->
    <VBox styleClass="chat-input-container" spacing="8">
        <padding>
            <Insets top="12" right="20" bottom="12" left="20"/>
        </padding>
        <children>
            <HBox spacing="12" alignment="CENTER_LEFT">
                <TextField fx:id="messageInputField" 
                          promptText="Î“ÏÎ¬ÏˆÏ„Îµ Ï„Î·Î½ ÎµÏÏŽÏ„Î·ÏƒÎ® ÏƒÎ±Ï‚..."
                          prefHeight="45"
                          HBox.hgrow="ALWAYS"
                          styleClass="message-input-field"
                          onAction="#onSendMessage"/>
                <Button text="ðŸ“¤ Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î®" 
                       onAction="#onSendMessage" 
                       styleClass="send-button"
                       prefWidth="120"
                       prefHeight="45"
                       fx:id="sendButton"/>
            </HBox>
            <HBox spacing="8" alignment="CENTER_LEFT">
                <Label text="ðŸ’¡" style="-fx-font-size: 14px;"/>
                <Label text="Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±: 'Î Î¿Î¹Î± ÎµÎ¯Î½Î±Î¹ Ï„Î± Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ± Î­ÏƒÎ¿Î´Î± Ï„Î¿Ï… 2024;'" 
                       styleClass="hint-text"
                       style="-fx-font-size: 12px; -fx-text-fill: #64748b;"/>
            </HBox>
        </children>
    </VBox>

</VBox>
